import os, sys, wget
from licensing.models import *
from licensing.methods import Key, Helpers
  
RSAPubKey = "<RSAKeyValue><Modulus>7KKRuyMqH7hDD/1BToOLtmS4NllWLxC6TRiNfgyZb2nNRKA2V4a/yidRNGuVkFMCe1oKZ7Hg2kF1/2RHzT5N/1NUjgpiI+JDuXUqGI/pvwL7md7wZmJ6JXuFfaU34bYfyLq5HWnM4O/5P0QE8H441jgG21I7sxOAQ+tT0AuF6N+wnC1SxTGRij7KE684S2UXcIiNhOc9FC2VfOFkEo8n6QLJtA3mpKkcaylG0BxCucYwpqkqdXIqpe9pYv1XPaPrwR0kfzS9O4pSHxHAxL2xWppQTOqkptjuN2YoEcj6OK3Hm8w4zOuMLd7DAO1yC6L9tQ+YjWkSB1wyD2empsLLww==</Modulus><Exponent>AQAB</Exponent></RSAKeyValue>"
auth = "WyI1NDU2MDMxMiIsIisrVlIwUk5FNG0rNW5WWjdOckcwSEZ2WFJoc1ozY3E0ak4xR21qY1QiXQ==" ## AUTHKEY WITH ACTIVATE !
def Authkey():
    key = str(input("Vui Lòng Nhập Key - Lấy tại github: ")) 
    print("Kiểm tra....")
    result = Key.activate(token=auth,\
        rsa_pub_key=RSAPubKey,\
        product_id='21371', \
        key=key,\
        machine_code=Helpers.GetMachineCode())        
    if result[0] == None or not Helpers.IsOnRightMachine(result[0]):
        input("sai")
        
    else:
        print("Cảm ơn bạn đã ủng hộ!")  
      
        os.system("java -Xms2G  -Xmx2G -jar dist/*.jar")
        input("")
        main()
SRC1="https://drive.google.com/uc?export=download&id=18Fe3u1EQqj-r7Uk-QAjE6hecqVhXQE8i&confirm=t"
SRC2="https://drive.google.com/uc?export=download&id=1KjLPH9vqKHBanDfereHYDPuhIMGGNtxL&confirm=t"
SRC3="https://drive.google.com/uc?export=download&id=1bg4dlvt-TfBiFcyUEYHeTkqkovqm5HUs&confirm=t"
def main():
    os.system("clear")
    print("ZALO,MOMO, MBBANK:0853035353")
    print("MENU BASIC")
    print("UPDTE MENU PREMIUM GIÁ 10K")
    print(" - KHÔNG KEY \n - ĐỦ CHỨC NĂNG \n - GIAO DIỆN ĐẸP...")
    print("###########")
    print("[1] TẢI DỮ LIỆU \n[2] CHẠY SERVER")
    a = input("NHẬP")
    while True:
        if a == "1":
            b = input("CHỌN PB 1 2 3: ")
            if b == "1":
                wget.download(SRC1)
                os.system("unzip *.zip")
                os.system("rm -rf *.zip")
                main()
            elif b == "2":
                wget.download(SRC1)
                os.system("unzip *.zip")
                os.system("rm -rf *.zip")
                main()
            elif b == "3":
                wget.download(SRC3)
                os.system("unzip *.zip")
                os.system("rm -rf *.zip")
                main()
            else:
                main()
        elif a =="2":
            Authkey()
        else:
            exit()
main()